{% extends "base_auth.html" %}

{% block title %} Register {% endblock title %}

{% block content %}

    <!-- Page content -->
    <div class="middle-box text-center loginscreen animated fadeInDown">
        <div>
            <div>
                <h5 class="logo-name">BUG Tracker</h5>
            </div>

            <br>

            {% if success %}

                <div class="alert alert-success alert-dismissable">
                    <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                    {{ success | safe }}
                </div>

            {% else %}
            
                <!-- Place regitration form here -->
                <h3>Register to BUG Tracker</h3>
                <p>Create account to see it in action.</p>

                {% for message in get_flashed_messages(category_filter=["error"]) %}
                    <div class="alert alert-danger alert-dismissable">
                        <button aria-hidden="true" data-dismiss="alert" class="close" type="button">×</button>
                        <strong>{{ message | safe }}</strong>
                    </div>
                {% endfor %}

                <form class="m-t" role="form" method="post" action="" novalidate>
                    <div class="form-group">
                        <input type="email" class="form-control" name="email" value="{{ form['email'] }}" placeholder="Email" required="" autofocus>
                    </div>

                    <div class="form-group">
                        <input type="text" class="form-control" name="name" value="{{ form['name'] }}" placeholder="First Name" required="">
                    </div>

                    <div class="form-group">
                        <input type="text" class="form-control" name="last" value="{{ form['last'] }}" placeholder="Last Name" required="">
                    </div>

                    <div class="form-group">
                        <input type="text" class="form-control" name="username" value="{{ form['username'] }}" placeholder="Username" required="">
                    </div>

                    <div class="form-group">
                        <input type="password" class="form-control" name="password" placeholder="Password" required="">
                    </div>

                    <div class="form-group">
                        <input type="password" class="form-control" name="verify" placeholder="Password (again)" required="">
                    </div>
                    
                    <button type="submit" class="btn btn-primary block full-width m-b">Register</button>

                    <p class="text-muted text-center"><small>Already have an account?</small></p>
                    <a class="btn btn-sm btn-white btn-block" href="{{ url_for('auth.login') }}">Login</a>
                </form>

                <p class="m-t"> <small>Flask application base on Bootstrap 3 &copy; 2019</small> </p>

            {% endif %}

        </div>
    </div>

{% endblock content %}

{% block javascripts %}
    <!-- jQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <!-- Bootstrap3 -->
    <script src="{{ url_for('static', filename='js/bootstrap4/bootstrap.min.js') }}"></script>
{% endblock javascripts %}